--[[
Script: CALVO MOD - ADMIN V1
Criador: [Seu Nome] / Modelo fornecido por Gemini
Descrição: Um painel de administração com múltiplos comandos para Roblox.
]]

-- CONFIGURAÇÕES DA INTERFACE
local ScreenGui = Instance.new("ScreenGui")
local MainFrame = Instance.new("Frame")
local Header = Instance.new("Frame")
local TitleLabel = Instance.new("TextLabel")
local CloseButton = Instance.new("TextButton")
local MinimizeButton = Instance.new("TextButton")
local CommandInput = Instance.new("TextBox")
local ContentFrame = Instance.new("Frame") -- Frame que será minimizado

ScreenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
ScreenGui.ResetOnSpawn = false

-- FRAME PRINCIPAL
MainFrame.Size = UDim2.new(0, 400, 0, 200)
MainFrame.Position = UDim2.new(0.5, -200, 0.5, -100)
MainFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 35)
MainFrame.BorderSizePixel = 0
MainFrame.Active = true
MainFrame.Draggable = true
MainFrame.Parent = ScreenGui

-- CABEÇALHO
Header.Size = UDim2.new(1, 0, 0, 30)
Header.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
Header.BorderSizePixel = 0
Header.Parent = MainFrame

TitleLabel.Size = UDim2.new(0.8, 0, 1, 0)
TitleLabel.Text = "CALVO MOD - ADMIN V1"
TitleLabel.Font = Enum.Font.SourceSansBold
TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
TitleLabel.TextSize = 18
TitleLabel.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
TitleLabel.BorderSizePixel = 0
TitleLabel.Parent = Header

-- BOTÕES DE CONTROLE
CloseButton.Size = UDim2.new(0, 30, 0, 30)
CloseButton.Position = UDim2.new(1, -30, 0, 0)
CloseButton.Text = "X"
CloseButton.Font = Enum.Font.SourceSansBold
CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
CloseButton.TextSize = 16
CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 43)
CloseButton.BorderSizePixel = 0
CloseButton.Parent = Header
CloseButton.MouseButton1Click:Connect(function()
    ScreenGui:Destroy()
end)

MinimizeButton.Size = UDim2.new(0, 30, 0, 30)
MinimizeButton.Position = UDim2.new(1, -60, 0, 0)
MinimizeButton.Text = "_"
MinimizeButton.Font = Enum.Font.SourceSansBold
MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
MinimizeButton.TextSize = 20
MinimizeButton.BackgroundColor3 = Color3.fromRGB(65, 65, 65)
MinimizeButton.BorderSizePixel = 0
MinimizeButton.Parent = Header
MinimizeButton.MouseButton1Click:Connect(function()
    ContentFrame.Visible = not ContentFrame.Visible
    if ContentFrame.Visible then
        MainFrame.Size = UDim2.new(0, 400, 0, 200)
    else
        MainFrame.Size = UDim2.new(0, 400, 0, 30)
    end
end)


-- CONTEÚDO (onde os comandos e outras coisas ficariam)
ContentFrame.Size = UDim2.new(1, 0, 1, -30)
ContentFrame.Position = UDim2.new(0, 0, 0, 30)
ContentFrame.BackgroundColor3 = Color3.new(1, 1, 1, 1) -- Invisível
ContentFrame.BorderSizePixel = 0
ContentFrame.Parent = MainFrame

-- CAMPO DE COMANDO
CommandInput.Size = UDim2.new(1, -20, 0, 40)
CommandInput.Position = UDim2.new(0, 10, 1, -50)
CommandInput.PlaceholderText = "Digite um comando... (ex: fly me)"
CommandInput.Font = Enum.Font.SourceSans
CommandInput.TextSize = 16
CommandInput.TextColor3 = Color3.fromRGB(255, 255, 255)
CommandInput.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
CommandInput.Parent = ContentFrame


-- =============================================
-- SISTEMA DE COMANDOS
-- =============================================

local Players = game:GetService("Players")
local LocalPlayer = Players.LocalPlayer

local function getPlayers(targetName)
    local targets = {}
    local lowerTargetName = targetName:lower()

    if lowerTargetName == "me" or lowerTargetName == "eu" then
        table.insert(targets, LocalPlayer)
    elseif lowerTargetName == "all" or lowerTargetName == "todos" then
        for _, player in ipairs(Players:GetPlayers()) do
            table.insert(targets, player)
        end
    else
        for _, player in ipairs(Players:GetPlayers()) do
            if player.Name:lower():match("^" .. lowerTargetName) then
                table.insert(targets, player)
            end
        end
    end
    return targets
end

local commands = {}

-- [[ COMANDOS DE EXEMPLO ]]

-- COMANDO: FLY
commands.fly = function(args)
    local targets = getPlayers(args[1] or "me")
    local speed = tonumber(args[2]) or 50

    for _, player in ipairs(targets) do
        local char = player.Character
        if char then
            if char:FindFirstChild("BodyGyro") then
                char.BodyGyro:Destroy()
                char.BodyVelocity:Destroy()
            end
            
            local gyro = Instance.new("BodyGyro")
            gyro.P = 50000
            gyro.maxTorque = Vector3.new(9e9, 9e9, 9e9)
            gyro.CFrame = char.HumanoidRootPart.CFrame
            gyro.Parent = char.HumanoidRootPart

            local vel = Instance.new("BodyVelocity")
            vel.velocity = Vector3.new(0,0.1,0)
            vel.maxForce = Vector3.new(9e9, 9e9, 9e9)
            vel.Parent = char.HumanoidRootPart
            
            player.Character.Humanoid.PlatformStand = true

            -- Controle de Voo
            game:GetService("UserInputService").InputBegan:Connect(function(input)
                if input.KeyCode == Enum.KeyCode.W then
                    vel.velocity = gyro.CFrame.lookVector * speed
                elseif input.KeyCode == Enum.KeyCode.S then
                    vel.velocity = gyro.CFrame.lookVector * -speed
                elseif input.KeyCode == Enum.KeyCode.Space then
                     vel.velocity = Vector3.new(0, speed, 0)
                end
            end)
            game:GetService("UserInputService").InputEnded:Connect(function(input)
                if input.KeyCode == Enum.KeyCode.W or input.KeyCode == Enum.KeyCode.S or input.KeyCode == Enum.KeyCode.Space then
                     vel.velocity = Vector3.new(0,0.1,0)
                end
            end)
        end
    end
end

-- COMANDO: UNFLY
commands.unfly = function(args)
    local targets = getPlayers(args[1] or "me")
    for _, player in ipairs(targets) do
        local char = player.Character
        if char then
            if char.HumanoidRootPart:FindFirstChild("BodyGyro") then
                char.HumanoidRootPart.BodyGyro:Destroy()
            end
            if char.HumanoidRootPart:FindFirstChild("BodyVelocity") then
                char.HumanoidRootPart.BodyVelocity:Destroy()
            end
            char.Humanoid.PlatformStand = false
        end
    end
end

-- COMANDO: SPEED
commands.speed = function(args)
    local targets = getPlayers(args[1] or "me")
    local speedValue = tonumber(args[2]) or 100 -- Velocidade padrão 100

    for _, player in ipairs(targets) do
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.WalkSpeed = speedValue
        end
    end
end

-- COMANDO: UNSPEED / WSPEED (WalkSpeed Padrão)
commands.unspeed = function(args)
    local targets = getPlayers(args[1] or "me")
    for _, player in ipairs(targets) do
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.WalkSpeed = 16 -- Velocidade padrão do Roblox
        end
    end
end
commands.wspeed = commands.unspeed -- Alias para o comando

-- COMANDO: KILL
commands.kill = function(args)
    local targets = getPlayers(args[1] or "me")
    for _, player in ipairs(targets) do
        if player.Character and player.Character:FindFirstChild("Humanoid") then
            player.Character.Humanoid.Health = 0
        end
    end
end

-- =============================================
-- PROCESSADOR DE COMANDOS
-- =============================================
CommandInput.FocusLost:Connect(function(enterPressed)
    if enterPressed then
        local text = CommandInput.Text
        local parts = text:split(" ")
        local cmdName = parts[1]:lower()
        
        table.remove(parts, 1) -- Remove o nome do comando para sobrar só os argumentos
        local args = parts
        
        if commands[cmdName] then
            local success, err = pcall(commands[cmdName], args)
            if not success then
                warn("Erro ao executar o comando '" .. cmdName .. "': " .. tostring(err))
            end
        else
            warn("Comando não encontrado: " .. cmdName)
        end
        
        CommandInput.Text = ""
    end
end)